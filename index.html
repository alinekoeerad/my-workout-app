<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Workout</title>
    <link rel="stylesheet" href="style.css">

    <link rel="manifest" href="manifest.json">
    
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Smart Coach">

    <meta name="theme-color" content="#2c3e50">
    
    <link rel="icon" type="image/png" href="icons/icon-192.png">
</head>
<body>

    <nav class="sticky-nav">
        <div class="nav-title">Smart Coach</div>
        <div class="nav-actions">
            <div class="nav-btn" onclick="app.switchDay('day1')">Day 1</div>
            <div class="nav-btn" onclick="app.switchDay('day2')">Day 2</div>
            <div class="nav-btn" onclick="app.switchDay('day3')">Day 3</div>
            <div class="nav-btn settings-btn" onclick="app.toggleSettings()">⚙️</div>
        </div>
    </nav>

    <div id="app-container" class="container">
        <div style="text-align:center; margin-top:50px; color:#666;">
            در حال بارگذاری دیتابیس تمرین...
        </div>
    </div>

    <div class="settings-modal" id="settingsModal">
        <h3>تنظیمات هوش مصنوعی</h3>
        <input type="password" id="apiKeyInput" style="width:100%; padding:10px; margin:10px 0;" placeholder="API Key">
        <button onclick="app.saveApiKey()" style="width:100%; padding:10px; background:#27ae60; color:white; border:none; border-radius:5px;">ذخیره</button>
        <button onclick="app.toggleSettings()" style="width:100%; margin-top:10px; background:#e74c3c; color:white; border:none; border-radius:5px; padding:5px;">بستن</button>
    </div>

    <div class="chat-widget">
        <div class="chat-window" id="chatWindow">
            <div style="background:#8e44ad; color:white; padding:15px; display:flex; justify-content:space-between;">
                مربی هوشمند
                <span style="cursor:pointer;" onclick="app.toggleChat()">×</span>
            </div>
            <div class="chat-body" id="chatBody"></div>
            <div class="chat-input-area">
                <input type="text" id="chatInput" class="chat-input" placeholder="سوال..." onkeypress="if(event.key==='Enter') app.sendMessage()">
                <button onclick="app.sendMessage()" style="background:#8e44ad; color:white; border:none; padding:0 15px;">→</button>
            </div>
        </div>
        <button class="chat-btn" onclick="app.toggleChat()">
            <svg viewBox="0 0 24 24" width="30" height="30" fill="white"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg>
        </button>
    </div>

    <script src="script.js"></script>
</body>
</html>